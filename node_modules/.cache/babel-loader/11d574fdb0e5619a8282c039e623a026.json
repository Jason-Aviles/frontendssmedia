{"ast":null,"code":"import _asyncToGenerator from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/regenerator/index.js\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{acceptRequest,cancelRequest,deleteRequest}from\"../../functions/user\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Card(_ref){var userr=_ref.userr,type=_ref.type,getData=_ref.getData;var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;var cancelRequestHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return cancelRequest(userId,user.token);case 2:res=_context.sent;if(res==\"ok\"){getData();}case 4:case\"end\":return _context.stop();}}},_callee);}));return function cancelRequestHandler(_x){return _ref2.apply(this,arguments);};}();var confirmHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userId){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return acceptRequest(userId,user.token);case 2:res=_context2.sent;if(res==\"ok\"){getData();}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function confirmHandler(_x2){return _ref3.apply(this,arguments);};}();var deleteHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userId){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return deleteRequest(userId,user.token);case 2:res=_context3.sent;if(res==\"ok\"){getData();}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteHandler(_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"req_card\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(userr.username),children:/*#__PURE__*/_jsx(\"img\",{src:userr.picture,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"req_name\",children:[userr.first_name,\" \",userr.last_name]}),type===\"sent\"?/*#__PURE__*/_jsx(\"button\",{className:\"blue_btn\",onClick:function onClick(){return cancelRequestHandler(userr._id);},children:\"Cancel Request\"}):type===\"request\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"blue_btn\",onClick:function onClick(){return confirmHandler(userr._id);},children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{className:\"gray_btn\",onClick:function onClick(){return deleteHandler(userr._id);},children:\"Delete\"})]}):\"\"]});}","map":{"version":3,"sources":["/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/src/pages/friends/Card.js"],"names":["useSelector","Link","acceptRequest","cancelRequest","deleteRequest","Card","userr","type","getData","state","user","cancelRequestHandler","userId","token","res","confirmHandler","deleteHandler","username","picture","first_name","last_name","_id"],"mappings":"qbAAA,OAASA,WAAT,KAA4B,aAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OACEC,aADF,CAEEC,aAFF,CAGEC,aAHF,KAIO,sBAJP,C,6IAMA,cAAe,SAASC,CAAAA,IAAT,MAAwC,IAAxBC,CAAAA,KAAwB,MAAxBA,KAAwB,CAAjBC,IAAiB,MAAjBA,IAAiB,CAAXC,OAAW,MAAXA,OAAW,CACrD,iBAAiBR,WAAW,CAAC,SAACS,KAAD,0BAAiBA,KAAjB,GAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CACA,GAAMC,CAAAA,oBAAoB,2FAAG,iBAAOC,MAAP,gJACTT,CAAAA,aAAa,CAACS,MAAD,CAASF,IAAI,CAACG,KAAd,CADJ,QACrBC,GADqB,eAE3B,GAAIA,GAAG,EAAI,IAAX,CAAiB,CACfN,OAAO,GACR,CAJ0B,sDAAH,kBAApBG,CAAAA,oBAAoB,6CAA1B,CAMA,GAAMI,CAAAA,cAAc,2FAAG,kBAAOH,MAAP,qJACHV,CAAAA,aAAa,CAACU,MAAD,CAASF,IAAI,CAACG,KAAd,CADV,QACfC,GADe,gBAErB,GAAIA,GAAG,EAAI,IAAX,CAAiB,CACfN,OAAO,GACR,CAJoB,wDAAH,kBAAdO,CAAAA,cAAc,8CAApB,CAMA,GAAMC,CAAAA,aAAa,2FAAG,kBAAOJ,MAAP,qJACFR,CAAAA,aAAa,CAACQ,MAAD,CAASF,IAAI,CAACG,KAAd,CADX,QACdC,GADc,gBAEpB,GAAIA,GAAG,EAAI,IAAX,CAAiB,CACfN,OAAO,GACR,CAJmB,wDAAH,kBAAbQ,CAAAA,aAAa,8CAAnB,CAMA,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,KAAC,IAAD,EAAM,EAAE,oBAAcV,KAAK,CAACW,QAApB,CAAR,uBACE,YAAK,GAAG,CAAEX,KAAK,CAACY,OAAhB,CAAyB,GAAG,CAAC,EAA7B,EADF,EADF,cAIE,aAAK,SAAS,CAAC,UAAf,WACGZ,KAAK,CAACa,UADT,KACsBb,KAAK,CAACc,SAD5B,GAJF,CAOGb,IAAI,GAAK,MAAT,cACC,eACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAE,yBAAMI,CAAAA,oBAAoB,CAACL,KAAK,CAACe,GAAP,CAA1B,EAFX,4BADD,CAOGd,IAAI,GAAK,SAAT,cACF,wCACE,eACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAE,yBAAMQ,CAAAA,cAAc,CAACT,KAAK,CAACe,GAAP,CAApB,EAFX,qBADF,cAOE,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAML,CAAAA,aAAa,CAACV,KAAK,CAACe,GAAP,CAAnB,EAAtC,oBAPF,GADE,CAaF,EA3BJ,GADF,CAgCD","sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  acceptRequest,\r\n  cancelRequest,\r\n  deleteRequest,\r\n} from \"../../functions/user\";\r\n\r\nexport default function Card({ userr, type, getData }) {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const cancelRequestHandler = async (userId) => {\r\n    const res = await cancelRequest(userId, user.token);\r\n    if (res == \"ok\") {\r\n      getData();\r\n    }\r\n  };\r\n  const confirmHandler = async (userId) => {\r\n    const res = await acceptRequest(userId, user.token);\r\n    if (res == \"ok\") {\r\n      getData();\r\n    }\r\n  };\r\n  const deleteHandler = async (userId) => {\r\n    const res = await deleteRequest(userId, user.token);\r\n    if (res == \"ok\") {\r\n      getData();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"req_card\">\r\n      <Link to={`/profile/${userr.username}`}>\r\n        <img src={userr.picture} alt=\"\" />\r\n      </Link>\r\n      <div className=\"req_name\">\r\n        {userr.first_name} {userr.last_name}\r\n      </div>\r\n      {type === \"sent\" ? (\r\n        <button\r\n          className=\"blue_btn\"\r\n          onClick={() => cancelRequestHandler(userr._id)}\r\n        >\r\n          Cancel Request\r\n        </button>\r\n      ) : type === \"request\" ? (\r\n        <>\r\n          <button\r\n            className=\"blue_btn\"\r\n            onClick={() => confirmHandler(userr._id)}\r\n          >\r\n            Confirm\r\n          </button>\r\n          <button className=\"gray_btn\" onClick={() => deleteHandler(userr._id)}>\r\n            Delete\r\n          </button>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}