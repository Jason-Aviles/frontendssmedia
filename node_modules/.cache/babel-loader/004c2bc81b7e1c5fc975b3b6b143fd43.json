{"ast":null,"code":"import _asyncToGenerator from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/regenerator/index.js\";import{Form,Formik}from\"formik\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import LoginInput from\"../../components/inputs/loginInput\";import*as Yup from\"yup\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchAccount(_ref){var email=_ref.email,setEmail=_ref.setEmail,error=_ref.error,setError=_ref.setError,setLoading=_ref.setLoading,setUserInfos=_ref.setUserInfos,setVisible=_ref.setVisible;var validateEmail=Yup.object({email:Yup.string().required(\"Email address ir required.\").email(\"Must be a valid email address.\").max(50,\"Email address can't be more than 50 characters.\")});var handleSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/findUser\"),{email:email});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setUserInfos(data);setVisible(1);setError(\"\");setLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setLoading(false);setError(_context.t0.response.data.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function handleSearch(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"reset_form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reset_form_header\",children:\"Find Your Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reset_form_text\",children:\"Please enter your email address or mobile number to search for your account.\"}),/*#__PURE__*/_jsx(Formik,{enableReinitialize:true,initialValues:{email:email},validationSchema:validateEmail,onSubmit:function onSubmit(){handleSearch();},children:function children(formik){return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(LoginInput,{type:\"text\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email address or phone number\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error_text\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"reset_form_btns\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"gray_btn\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"blue_btn\",children:\"Search\"})]})]});}})]});}","map":{"version":3,"sources":["/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/src/pages/reset/SearchAccount.js"],"names":["Form","Formik","useState","Link","LoginInput","Yup","axios","SearchAccount","email","setEmail","error","setError","setLoading","setUserInfos","setVisible","validateEmail","object","string","required","max","handleSearch","post","process","env","REACT_APP_BACKEND_URL","data","response","message","formik","e","target","value"],"mappings":"qSAAA,OAASA,IAAT,CAAeC,MAAf,KAA6B,QAA7B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFACA,cAAe,SAASC,CAAAA,aAAT,MAQZ,IAPDC,CAAAA,KAOC,MAPDA,KAOC,CANDC,QAMC,MANDA,QAMC,CALDC,KAKC,MALDA,KAKC,CAJDC,QAIC,MAJDA,QAIC,CAHDC,UAGC,MAHDA,UAGC,CAFDC,YAEC,MAFDA,YAEC,CADDC,UACC,MADDA,UACC,CACD,GAAMC,CAAAA,aAAa,CAAGV,GAAG,CAACW,MAAJ,CAAW,CAC/BR,KAAK,CAAEH,GAAG,CAACY,MAAJ,GACJC,QADI,CACK,4BADL,EAEJV,KAFI,CAEE,gCAFF,EAGJW,GAHI,CAGA,EAHA,CAGI,iDAHJ,CADwB,CAAX,CAAtB,CAMA,GAAMC,CAAAA,YAAY,2FAAG,8KAEjBR,UAAU,CAAC,IAAD,CAAV,CAFiB,sBAIMN,CAAAA,KAAK,CAACe,IAAN,WAClBC,OAAO,CAACC,GAAR,CAAYC,qBADM,cAErB,CAAEhB,KAAK,CAALA,KAAF,CAFqB,CAJN,wCAITiB,IAJS,mBAITA,IAJS,CAQjBZ,YAAY,CAACY,IAAD,CAAZ,CACAX,UAAU,CAAC,CAAD,CAAV,CACAH,QAAQ,CAAC,EAAD,CAAR,CACAC,UAAU,CAAC,KAAD,CAAV,CAXiB,iFAajBA,UAAU,CAAC,KAAD,CAAV,CACAD,QAAQ,CAAC,YAAMe,QAAN,CAAeD,IAAf,CAAoBE,OAArB,CAAR,CAdiB,qEAAH,kBAAZP,CAAAA,YAAY,2CAAlB,CAiBA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAK,SAAS,CAAC,mBAAf,+BADF,cAEE,YAAK,SAAS,CAAC,iBAAf,0FAFF,cAME,KAAC,MAAD,EACE,kBAAkB,KADpB,CAEE,aAAa,CAAE,CACbZ,KAAK,CAALA,KADa,CAFjB,CAKE,gBAAgB,CAAEO,aALpB,CAME,QAAQ,CAAE,mBAAM,CACdK,YAAY,GACb,CARH,UAUG,kBAACQ,MAAD,qBACC,MAAC,IAAD,yBACE,KAAC,UAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,QAAQ,CAAE,kBAACC,CAAD,QAAOpB,CAAAA,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAHZ,CAIE,WAAW,CAAC,+BAJd,EADF,CAOGrB,KAAK,eAAI,YAAK,SAAS,CAAC,YAAf,UAA6BA,KAA7B,EAPZ,cAQE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,UAA5B,oBADF,cAIE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,UAAhC,oBAJF,GARF,GADD,EAVH,EANF,GADF,CAuCD","sourcesContent":["import { Form, Formik } from \"formik\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LoginInput from \"../../components/inputs/loginInput\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nexport default function SearchAccount({\r\n  email,\r\n  setEmail,\r\n  error,\r\n  setError,\r\n  setLoading,\r\n  setUserInfos,\r\n  setVisible,\r\n}) {\r\n  const validateEmail = Yup.object({\r\n    email: Yup.string()\r\n      .required(\"Email address ir required.\")\r\n      .email(\"Must be a valid email address.\")\r\n      .max(50, \"Email address can't be more than 50 characters.\"),\r\n  });\r\n  const handleSearch = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      const { data } = await axios.post(\r\n        `${process.env.REACT_APP_BACKEND_URL}/findUser`,\r\n        { email }\r\n      );\r\n      setUserInfos(data);\r\n      setVisible(1);\r\n      setError(\"\");\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"reset_form\">\r\n      <div className=\"reset_form_header\">Find Your Account</div>\r\n      <div className=\"reset_form_text\">\r\n        Please enter your email address or mobile number to search for your\r\n        account.\r\n      </div>\r\n      <Formik\r\n        enableReinitialize\r\n        initialValues={{\r\n          email,\r\n        }}\r\n        validationSchema={validateEmail}\r\n        onSubmit={() => {\r\n          handleSearch();\r\n        }}\r\n      >\r\n        {(formik) => (\r\n          <Form>\r\n            <LoginInput\r\n              type=\"text\"\r\n              name=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"Email address or phone number\"\r\n            />\r\n            {error && <div className=\"error_text\">{error}</div>}\r\n            <div className=\"reset_form_btns\">\r\n              <Link to=\"/login\" className=\"gray_btn\">\r\n                Cancel\r\n              </Link>\r\n              <button type=\"submit\" className=\"blue_btn\">\r\n                Search\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}