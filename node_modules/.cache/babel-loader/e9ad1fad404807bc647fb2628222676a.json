{"ast":null,"code":"import _slicedToArray from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import Picker from\"emoji-picker-react\";import{useMediaQuery}from\"react-responsive\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EmojiPickerBackgrounds(_ref){var text=_ref.text,user=_ref.user,setText=_ref.setText,type2=_ref.type2,background=_ref.background,setBackground=_ref.setBackground;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),picker=_useState2[0],setPicker=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showBgs=_useState4[0],setShowBgs=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),cursorPosition=_useState6[0],setCursorPosition=_useState6[1];var textRef=useRef(null);var bgRef=useRef(null);useEffect(function(){textRef.current.selectionEnd=cursorPosition;},[cursorPosition]);var handleEmoji=function handleEmoji(e,_ref2){var emoji=_ref2.emoji;var ref=textRef.current;ref.focus();var start=text.substring(0,ref.selectionStart);var end=text.substring(ref.selectionStart);var newText=start+emoji+end;setText(newText);setCursorPosition(start.length+emoji.length);};var postBackgrounds=[\"../../../images/postbackgrounds/1.jpg\",\"../../../images/postbackgrounds/2.jpg\",\"../../../images/postbackgrounds/3.jpg\",\"../../../images/postbackgrounds/4.jpg\",\"../../../images/postbackgrounds/5.jpg\",\"../../../images/postbackgrounds/6.jpg\",\"../../../images/postbackgrounds/7.jpg\",\"../../../images/postbackgrounds/8.jpg\",\"../../../images/postbackgrounds/9.jpg\"];var backgroundHanlder=function backgroundHanlder(i){bgRef.current.style.backgroundImage=\"url(\".concat(postBackgrounds[i],\")\");setBackground(postBackgrounds[i]);bgRef.current.classList.add(\"bgHandler\");};var removeBackground=function removeBackground(i){bgRef.current.style.backgroundImage=\"\";setBackground(\"\");bgRef.current.classList.remove(\"bgHandler\");};var sm=useMediaQuery({query:\"(max-width:550px)\"});return/*#__PURE__*/_jsxs(\"div\",{className:type2?\"images_input\":\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:!type2?\"flex_center\":\"\",ref:bgRef,children:/*#__PURE__*/_jsx(\"textarea\",{ref:textRef,maxLength:\"250\",value:text,placeholder:\"What's on your mind, \".concat(user.first_name),className:\"post_input \".concat(type2?\"input2\":\"\",\" \").concat(sm&&!background&&\"l0\"),onChange:function onChange(e){return setText(e.target.value);},style:{paddingTop:\"\".concat(background?Math.abs(textRef.current.value.length*0.1-32):\"0\",\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:!type2?\"post_emojis_wrap\":\"\",children:[picker&&/*#__PURE__*/_jsx(\"div\",{className:\"comment_emoji_picker \".concat(type2?\"movepicker2\":\"rlmove\"),children:/*#__PURE__*/_jsx(Picker,{onEmojiClick:handleEmoji})}),!type2&&/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/colorful.png\",alt:\"\",onClick:function onClick(){setShowBgs(function(prev){return!prev;});}}),!type2&&showBgs&&/*#__PURE__*/_jsxs(\"div\",{className:\"post_backgrounds\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"no_bg\",onClick:function onClick(){removeBackground();}}),postBackgrounds.map(function(bg,i){return/*#__PURE__*/_jsx(\"img\",{src:bg,alt:\"\",onClick:function onClick(){backgroundHanlder(i);}},i);})]}),/*#__PURE__*/_jsx(\"i\",{className:\"emoji_icon_large \".concat(type2?\"moveleft\":\"\"),onClick:function onClick(){setPicker(function(prev){return!prev;});}})]})]});}","map":{"version":3,"sources":["/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/src/components/createPostPopup/EmojiPickerBackgrounds.js"],"names":["useEffect","useRef","useState","Picker","useMediaQuery","EmojiPickerBackgrounds","text","user","setText","type2","background","setBackground","picker","setPicker","showBgs","setShowBgs","cursorPosition","setCursorPosition","textRef","bgRef","current","selectionEnd","handleEmoji","e","emoji","ref","focus","start","substring","selectionStart","end","newText","length","postBackgrounds","backgroundHanlder","i","style","backgroundImage","classList","add","removeBackground","remove","sm","query","first_name","target","value","paddingTop","Math","abs","prev","map","bg"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nexport default function EmojiPickerBackgrounds({\r\n  text,\r\n  user,\r\n  setText,\r\n  type2,\r\n  background,\r\n  setBackground,\r\n}) {\r\n  const [picker, setPicker] = useState(false);\r\n  const [showBgs, setShowBgs] = useState(false);\r\n  const [cursorPosition, setCursorPosition] = useState();\r\n  const textRef = useRef(null);\r\n  const bgRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    textRef.current.selectionEnd = cursorPosition;\r\n  }, [cursorPosition]);\r\n  const handleEmoji = (e, { emoji }) => {\r\n    const ref = textRef.current;\r\n    ref.focus();\r\n    const start = text.substring(0, ref.selectionStart);\r\n    const end = text.substring(ref.selectionStart);\r\n    const newText = start + emoji + end;\r\n    setText(newText);\r\n    setCursorPosition(start.length + emoji.length);\r\n  };\r\n  const postBackgrounds = [\r\n    \"../../../images/postbackgrounds/1.jpg\",\r\n    \"../../../images/postbackgrounds/2.jpg\",\r\n    \"../../../images/postbackgrounds/3.jpg\",\r\n    \"../../../images/postbackgrounds/4.jpg\",\r\n    \"../../../images/postbackgrounds/5.jpg\",\r\n    \"../../../images/postbackgrounds/6.jpg\",\r\n    \"../../../images/postbackgrounds/7.jpg\",\r\n    \"../../../images/postbackgrounds/8.jpg\",\r\n    \"../../../images/postbackgrounds/9.jpg\",\r\n  ];\r\n  const backgroundHanlder = (i) => {\r\n    bgRef.current.style.backgroundImage = `url(${postBackgrounds[i]})`;\r\n    setBackground(postBackgrounds[i]);\r\n    bgRef.current.classList.add(\"bgHandler\");\r\n  };\r\n  const removeBackground = (i) => {\r\n    bgRef.current.style.backgroundImage = \"\";\r\n    setBackground(\"\");\r\n    bgRef.current.classList.remove(\"bgHandler\");\r\n  };\r\n  const sm = useMediaQuery({\r\n    query: \"(max-width:550px)\",\r\n  });\r\n  return (\r\n    <div className={type2 ? \"images_input\" : \"\"}>\r\n      <div className={!type2 ? \"flex_center\" : \"\"} ref={bgRef}>\r\n        <textarea\r\n          ref={textRef}\r\n          maxLength=\"250\"\r\n          value={text}\r\n          placeholder={`What's on your mind, ${user.first_name}`}\r\n          className={`post_input ${type2 ? \"input2\" : \"\"} ${\r\n            sm && !background && \"l0\"\r\n          }`}\r\n          onChange={(e) => setText(e.target.value)}\r\n          style={{\r\n            paddingTop: `${\r\n              background\r\n                ? Math.abs(textRef.current.value.length * 0.1 - 32)\r\n                : \"0\"\r\n            }%`,\r\n          }}\r\n        ></textarea>\r\n      </div>\r\n      <div className={!type2 ? \"post_emojis_wrap\" : \"\"}>\r\n        {picker && (\r\n          <div\r\n            className={`comment_emoji_picker ${\r\n              type2 ? \"movepicker2\" : \"rlmove\"\r\n            }`}\r\n          >\r\n            <Picker onEmojiClick={handleEmoji} />\r\n          </div>\r\n        )}\r\n        {!type2 && (\r\n          <img\r\n            src=\"../../../icons/colorful.png\"\r\n            alt=\"\"\r\n            onClick={() => {\r\n              setShowBgs((prev) => !prev);\r\n            }}\r\n          />\r\n        )}\r\n        {!type2 && showBgs && (\r\n          <div className=\"post_backgrounds\">\r\n            <div\r\n              className=\"no_bg\"\r\n              onClick={() => {\r\n                removeBackground();\r\n              }}\r\n            ></div>\r\n            {postBackgrounds.map((bg, i) => (\r\n              <img\r\n                src={bg}\r\n                key={i}\r\n                alt=\"\"\r\n                onClick={() => {\r\n                  backgroundHanlder(i);\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <i\r\n          className={`emoji_icon_large ${type2 ? \"moveleft\" : \"\"}`}\r\n          onClick={() => {\r\n            setPicker((prev) => !prev);\r\n          }}\r\n        ></i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}