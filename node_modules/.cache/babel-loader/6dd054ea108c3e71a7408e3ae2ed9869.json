{"ast":null,"code":"import _asyncToGenerator from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useRef,useState}from\"react\";import useClickOutside from\"../../helpers/clickOutside\";import{useSelector}from\"react-redux\";import{acceptRequest,addFriend,cancelRequest,deleteRequest,follow,unfollow,unfriend}from\"../../functions/user\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Friendship(_ref){var friendshipp=_ref.friendshipp,profileid=_ref.profileid;var _useState=useState(friendshipp),_useState2=_slicedToArray(_useState,2),friendship=_useState2[0],setFriendship=_useState2[1];useEffect(function(){setFriendship(friendshipp);},[friendshipp]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),friendsMenu=_useState4[0],setFriendsMenu=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),respondMenu=_useState6[0],setRespondMenu=_useState6[1];var menu=useRef(null);var menu1=useRef(null);useClickOutside(menu,function(){return setFriendsMenu(false);});useClickOutside(menu1,function(){return setRespondMenu(false);});var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;var addFriendHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{requestSent:true,following:true}));_context.next=3;return addFriend(profileid,user.token);case 3:case\"end\":return _context.stop();}}},_callee);}));return function addFriendHandler(){return _ref2.apply(this,arguments);};}();var cancelRequestHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{requestSent:false,following:false}));_context2.next=3;return cancelRequest(profileid,user.token);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function cancelRequestHandler(){return _ref3.apply(this,arguments);};}();var followHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{following:true}));_context3.next=3;return follow(profileid,user.token);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function followHandler(){return _ref4.apply(this,arguments);};}();var unfollowHandler=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{following:false}));_context4.next=3;return unfollow(profileid,user.token);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function unfollowHandler(){return _ref5.apply(this,arguments);};}();var acceptRequestHanlder=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{friends:true,following:true,requestSent:false,requestReceived:false}));_context5.next=3;return acceptRequest(profileid,user.token);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function acceptRequestHanlder(){return _ref6.apply(this,arguments);};}();var unfriendHandler=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{friends:false,following:false,requestSent:false,requestReceived:false}));_context6.next=3;return unfriend(profileid,user.token);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function unfriendHandler(){return _ref7.apply(this,arguments);};}();var deleteRequestHanlder=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:setFriendship(_objectSpread(_objectSpread({},friendship),{},{friends:false,following:false,requestSent:false,requestReceived:false}));_context7.next=3;return deleteRequest(profileid,user.token);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function deleteRequestHanlder(){return _ref8.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"friendship\",children:[friendship!==null&&friendship!==void 0&&friendship.friends?/*#__PURE__*/_jsxs(\"div\",{className:\"friends_menu_wrap\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"gray_btn\",onClick:function onClick(){return setFriendsMenu(true);},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/friends.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Friends\"})]}),friendsMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu\",ref:menu,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu_item hover1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/favoritesOutline.png\",alt:\"\"}),\"Favorites\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu_item hover1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/editFriends.png\",alt:\"\"}),\"Edit Friend list\"]}),friendship!==null&&friendship!==void 0&&friendship.following?/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu_item hover1\",onClick:function onClick(){return unfollowHandler();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/unfollowOutlined.png\",alt:\"\"}),\"Unfollow\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu_item hover1\",onClick:function onClick(){return followHandler();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/unfollowOutlined.png\",alt:\"\"}),\"Follow\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu_item hover1\",onClick:function onClick(){return unfriendHandler();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"unfriend_outlined_icon\"}),\"Unfriend\"]})]})]}):!(friendship!==null&&friendship!==void 0&&friendship.requestSent)&&!(friendship!==null&&friendship!==void 0&&friendship.requestReceived)&&/*#__PURE__*/_jsxs(\"button\",{className:\"blue_btn\",onClick:function onClick(){return addFriendHandler();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/addFriend.png\",alt:\"\",className:\"invert\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Friend\"})]}),friendship!==null&&friendship!==void 0&&friendship.requestSent?/*#__PURE__*/_jsxs(\"button\",{className:\"blue_btn\",onClick:function onClick(){return cancelRequestHandler();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/cancelRequest.png\",className:\"invert\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cancel Request\"})]}):(friendship===null||friendship===void 0?void 0:friendship.requestReceived)&&/*#__PURE__*/_jsxs(\"div\",{className:\"friends_menu_wrap\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"gray_btn\",onClick:function onClick(){return setRespondMenu(true);},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/friends.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Respond\"})]}),respondMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"open_cover_menu\",ref:menu1,children:[/*#__PURE__*/_jsx(\"div\",{className:\"open_cover_menu_item hover1\",onClick:function onClick(){return acceptRequestHanlder();},children:\"Confirm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"open_cover_menu_item hover1\",onClick:function onClick(){return deleteRequestHanlder();},children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[friendship!==null&&friendship!==void 0&&friendship.following?/*#__PURE__*/_jsxs(\"button\",{className:\"gray_btn\",onClick:function onClick(){return unfollowHandler();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/follow.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Following\"})]}):/*#__PURE__*/_jsxs(\"button\",{className:\"blue_btn\",onClick:function onClick(){return followHandler();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/follow.png\",className:\"invert\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Follow\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:friendship!==null&&friendship!==void 0&&friendship.friends?\"blue_btn\":\"gray_btn\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../../icons/message.png\",className:(friendship===null||friendship===void 0?void 0:friendship.friends)&&\"invert\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Message\"})]})]})]});}","map":{"version":3,"sources":["/Users/jasonaviles/Desktop/facebook/starter/frontendssmedia/src/pages/profile/Friendship.js"],"names":["useEffect","useRef","useState","useClickOutside","useSelector","acceptRequest","addFriend","cancelRequest","deleteRequest","follow","unfollow","unfriend","Friendship","friendshipp","profileid","friendship","setFriendship","friendsMenu","setFriendsMenu","respondMenu","setRespondMenu","menu","menu1","state","user","addFriendHandler","requestSent","following","token","cancelRequestHandler","followHandler","unfollowHandler","acceptRequestHanlder","friends","requestReceived","unfriendHandler","deleteRequestHanlder"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport useClickOutside from \"../../helpers/clickOutside\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  acceptRequest,\r\n  addFriend,\r\n  cancelRequest,\r\n  deleteRequest,\r\n  follow,\r\n  unfollow,\r\n  unfriend,\r\n} from \"../../functions/user\";\r\nexport default function Friendship({ friendshipp, profileid }) {\r\n  const [friendship, setFriendship] = useState(friendshipp);\r\n  useEffect(() => {\r\n    setFriendship(friendshipp);\r\n  }, [friendshipp]);\r\n  const [friendsMenu, setFriendsMenu] = useState(false);\r\n  const [respondMenu, setRespondMenu] = useState(false);\r\n  const menu = useRef(null);\r\n  const menu1 = useRef(null);\r\n  useClickOutside(menu, () => setFriendsMenu(false));\r\n  useClickOutside(menu1, () => setRespondMenu(false));\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const addFriendHandler = async () => {\r\n    setFriendship({ ...friendship, requestSent: true, following: true });\r\n    await addFriend(profileid, user.token);\r\n  };\r\n  const cancelRequestHandler = async () => {\r\n    setFriendship({ ...friendship, requestSent: false, following: false });\r\n    await cancelRequest(profileid, user.token);\r\n  };\r\n  const followHandler = async () => {\r\n    setFriendship({ ...friendship, following: true });\r\n    await follow(profileid, user.token);\r\n  };\r\n  const unfollowHandler = async () => {\r\n    setFriendship({ ...friendship, following: false });\r\n    await unfollow(profileid, user.token);\r\n  };\r\n  const acceptRequestHanlder = async () => {\r\n    setFriendship({\r\n      ...friendship,\r\n      friends: true,\r\n      following: true,\r\n      requestSent: false,\r\n      requestReceived: false,\r\n    });\r\n    await acceptRequest(profileid, user.token);\r\n  };\r\n  const unfriendHandler = async () => {\r\n    setFriendship({\r\n      ...friendship,\r\n      friends: false,\r\n      following: false,\r\n      requestSent: false,\r\n      requestReceived: false,\r\n    });\r\n    await unfriend(profileid, user.token);\r\n  };\r\n  const deleteRequestHanlder = async () => {\r\n    setFriendship({\r\n      ...friendship,\r\n      friends: false,\r\n      following: false,\r\n      requestSent: false,\r\n      requestReceived: false,\r\n    });\r\n    await deleteRequest(profileid, user.token);\r\n  };\r\n\r\n  return (\r\n    <div className=\"friendship\">\r\n      {friendship?.friends ? (\r\n        <div className=\"friends_menu_wrap\">\r\n          <button className=\"gray_btn\" onClick={() => setFriendsMenu(true)}>\r\n            <img src=\"../../../icons/friends.png\" alt=\"\" />\r\n            <span>Friends</span>\r\n          </button>\r\n          {friendsMenu && (\r\n            <div className=\"open_cover_menu\" ref={menu}>\r\n              <div className=\"open_cover_menu_item hover1\">\r\n                <img src=\"../../../icons/favoritesOutline.png\" alt=\"\" />\r\n                Favorites\r\n              </div>\r\n              <div className=\"open_cover_menu_item hover1\">\r\n                <img src=\"../../../icons/editFriends.png\" alt=\"\" />\r\n                Edit Friend list\r\n              </div>\r\n              {friendship?.following ? (\r\n                <div\r\n                  className=\"open_cover_menu_item hover1\"\r\n                  onClick={() => unfollowHandler()}\r\n                >\r\n                  <img src=\"../../../icons/unfollowOutlined.png\" alt=\"\" />\r\n                  Unfollow\r\n                </div>\r\n              ) : (\r\n                <div\r\n                  className=\"open_cover_menu_item hover1\"\r\n                  onClick={() => followHandler()}\r\n                >\r\n                  <img src=\"../../../icons/unfollowOutlined.png\" alt=\"\" />\r\n                  Follow\r\n                </div>\r\n              )}\r\n              <div\r\n                className=\"open_cover_menu_item hover1\"\r\n                onClick={() => unfriendHandler()}\r\n              >\r\n                <i className=\"unfriend_outlined_icon\"></i>\r\n                Unfriend\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        !friendship?.requestSent &&\r\n        !friendship?.requestReceived && (\r\n          <button className=\"blue_btn\" onClick={() => addFriendHandler()}>\r\n            <img src=\"../../../icons/addFriend.png\" alt=\"\" className=\"invert\" />\r\n            <span>Add Friend</span>\r\n          </button>\r\n        )\r\n      )}\r\n      {friendship?.requestSent ? (\r\n        <button className=\"blue_btn\" onClick={() => cancelRequestHandler()}>\r\n          <img\r\n            src=\"../../../icons/cancelRequest.png\"\r\n            className=\"invert\"\r\n            alt=\"\"\r\n          />\r\n          <span>Cancel Request</span>\r\n        </button>\r\n      ) : (\r\n        friendship?.requestReceived && (\r\n          <div className=\"friends_menu_wrap\">\r\n            <button className=\"gray_btn\" onClick={() => setRespondMenu(true)}>\r\n              <img src=\"../../../icons/friends.png\" alt=\"\" />\r\n              <span>Respond</span>\r\n            </button>\r\n            {respondMenu && (\r\n              <div className=\"open_cover_menu\" ref={menu1}>\r\n                <div\r\n                  className=\"open_cover_menu_item hover1\"\r\n                  onClick={() => acceptRequestHanlder()}\r\n                >\r\n                  Confirm\r\n                </div>\r\n                <div\r\n                  className=\"open_cover_menu_item hover1\"\r\n                  onClick={() => deleteRequestHanlder()}\r\n                >\r\n                  Delete\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )\r\n      )}\r\n      <div className=\"flex\">\r\n        {friendship?.following ? (\r\n          <button className=\"gray_btn\" onClick={() => unfollowHandler()}>\r\n            <img src=\"../../../icons/follow.png\" alt=\"\" />\r\n            <span>Following</span>\r\n          </button>\r\n        ) : (\r\n          <button className=\"blue_btn\" onClick={() => followHandler()}>\r\n            <img src=\"../../../icons/follow.png\" className=\"invert\" alt=\"\" />\r\n            <span>Follow</span>\r\n          </button>\r\n        )}\r\n        <button className={friendship?.friends ? \"blue_btn\" : \"gray_btn\"}>\r\n          <img\r\n            src=\"../../../icons/message.png\"\r\n            className={friendship?.friends && \"invert\"}\r\n            alt=\"\"\r\n          />\r\n          <span>Message</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}